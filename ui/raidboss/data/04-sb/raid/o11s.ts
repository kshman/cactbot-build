import { Responses } from '../../../../../resources/responses';
import ZoneId from '../../../../../resources/zone_id';
import { RaidbossData } from '../../../../../types/data';
import { TriggerSet } from '../../../../../types/trigger';

export interface Data extends RaidbossData {
  lastWasStarboard?: boolean;
}

// O11S - Alphascape 3.0 Savage
const triggerSet: TriggerSet<Data> = {
  zoneId: ZoneId.AlphascapeV30Savage,
  timelineFile: 'o11s.txt',
  triggers: [
    {
      id: 'O11S Mustard Bomb',
      type: 'StartsUsing',
      netRegex: { id: '326D', source: 'Omega' },
      response: Responses.tankBuster('alarm'),
    },
    {
      // Ability IDs:
      // Starboard 1: 3262
      // Starboard 2: 3263
      // Larboard 1: 3264
      // Larboard 2: 3265
      // For the cannons, match #1 and #2 for the first one.  This is so
      // that if a log entry for the first is dropped for some reason, it
      // will at least say left/right for the second.
      id: 'O11S Cannon Cleanup',
      type: 'StartsUsing',
      netRegex: { id: '326[24]', source: 'Omega', capture: false },
      delaySeconds: 15,
      run: (data) => delete data.lastWasStarboard,
    },
    {
      id: 'O11S Starboard Cannon 1',
      type: 'StartsUsing',
      netRegex: { id: '326[23]', source: 'Omega', capture: false },
      condition: (data) => data.lastWasStarboard === undefined,
      response: Responses.goLeft(),
      run: (data) => data.lastWasStarboard = true,
    },
    {
      id: 'O11S Larboard Cannon 1',
      type: 'StartsUsing',
      netRegex: { id: '326[45]', source: 'Omega', capture: false },
      condition: (data) => data.lastWasStarboard === undefined,
      response: Responses.goRight(),
      run: (data) => data.lastWasStarboard = false,
    },
    {
      id: 'O11S Starboard Cannon 2',
      type: 'StartsUsing',
      netRegex: { id: '3263', source: 'Omega', capture: false },
      condition: (data) => data.lastWasStarboard !== undefined,
      alertText: (data, _matches, output) => {
        if (data.lastWasStarboard)
          return output.moveLeft!();

        return output.stayLeft!();
      },
      outputStrings: {
        moveLeft: {
          en: 'ì´ë™: ğŸ¡¸ì™¼ìª½',
          de: 'Bewegen (Links)',
          fr: 'Bougez (Ã€ gauche)',
          ja: 'åå¯¾ã¸ (å·¦)',
          cn: 'ç§»åŠ¨ (å·¦)',
          ko: 'ì˜¤ë¥¸ìª½ìœ¼ë¡œ',
        },
        stayLeft: {
          en: 'ê·¸ëŒ€ë¡œ: ğŸ¡¸ì™¼ìª½',
          de: 'Stehenbleiben (Links)',
          fr: 'Restez (Ã€ gauche)',
          ja: 'ãã®ã¾ã¾ (å·¦)',
          cn: 'ä¸åŠ¨ (å·¦)',
          ko: 'ëŒ€ê¸° (ì˜¤ë¥¸ìª½)',
        },
      },
    },
    {
      id: 'O11S Larboard Cannon 2',
      type: 'StartsUsing',
      netRegex: { id: '3265', source: 'Omega', capture: false },
      condition: (data) => data.lastWasStarboard !== undefined,
      alertText: (data, _matches, output) => {
        if (data.lastWasStarboard)
          return output.stayRight!();

        return output.moveRight!();
      },
      outputStrings: {
        stayRight: {
          en: 'ê·¸ëŒ€ë¡œ: ì˜¤ë¥¸ìª½ğŸ¡º',
          de: 'Stehenbleiben (Rechts)',
          fr: 'Restez (Ã€ droite)',
          ja: 'ãã®ã¾ã¾ (å³)',
          cn: 'ä¸åŠ¨ (å³)',
          ko: 'ëŒ€ê¸° (ì™¼ìª½)',
        },
        moveRight: {
          en: 'ì´ë™: ì˜¤ë¥¸ìª½ğŸ¡º',
          de: 'Bewegen (Rechts)',
          fr: 'Bougez (Ã€ droite)',
          ja: 'åå¯¾ã¸ (å³)',
          cn: 'ç§»åŠ¨ (å³)',
          ko: 'ì™¼ìª½ìœ¼ë¡œ',
        },
      },
    },
    {
      id: 'O11S Starboard Surge 1',
      type: 'StartsUsing',
      netRegex: { id: '3266', source: 'Omega', capture: false },
      alertText: (_data, _matches, output) => output.text!(),
      outputStrings: {
        text: {
          en: 'ğŸ¡¸ì™¼ìª½ (ë°”ë¡œ ë°˜ëŒ€ìª½ìœ¼ë¡œ)',
          de: 'Links (dann umgekehrt)',
          fr: 'Ã€ gauche (puis Ã  l\'opposÃ©e)',
          ja: 'å·¦ (é›¶å¼)',
          cn: 'å·¦ (é›¶å¼)',
          ko: 'ì™¼ìª½ìœ¼ë¡œ (ë°”ë¡œ ë°˜ëŒ€ë¡œ)',
        },
      },
    },
    {
      id: 'O11S Larboard Surge 1',
      type: 'StartsUsing',
      netRegex: { id: '3268', source: 'Omega', capture: false },
      alertText: (_data, _matches, output) => output.text!(),
      outputStrings: {
        text: {
          en: 'ì˜¤ë¥¸ìª½ğŸ¡º (ë°”ë¡œ ë°˜ëŒ€ìª½ìœ¼ë¡œ)',
          de: 'Rechts (dann umgekehrt)',
          fr: 'Ã€ droite (puis Ã  l\'opposÃ©e)',
          ja: 'å³ (é›¶å¼)',
          cn: 'å³ (é›¶å¼)',
          ko: 'ì˜¤ë¥¸ìª½ìœ¼ë¡œ (ë°”ë¡œ ë°˜ëŒ€ë¡œ)',
        },
      },
    },
    {
      id: 'O11S Starboard Surge 2',
      type: 'StartsUsing',
      netRegex: { id: '3266', source: 'Omega', capture: false },
      delaySeconds: 4,
      alertText: (_data, _matches, output) => output.text!(),
      outputStrings: {
        text: {
          en: 'ë°˜ëŒ€ìª½ìœ¼ë¡œ: ğŸ¡¸ì™¼ìª½',
          de: 'Umgekehrt (Links)',
          fr: 'Ã€ l\'opposÃ©e (Ã€ gauche)',
          ja: 'åå¯¾ã¸ (å·¦)',
          cn: 'å¯¹é¢ (å·¦)',
          ko: 'ì˜¤ë¥¸ìª½ìœ¼ë¡œ',
        },
      },
    },
    {
      id: 'O11S Larboard Surge 2',
      type: 'StartsUsing',
      netRegex: { id: '3268', source: 'Omega', capture: false },
      delaySeconds: 4,
      alertText: (_data, _matches, output) => output.text!(),
      outputStrings: {
        text: {
          en: 'ë°˜ëŒ€ìª½ìœ¼ë¡œ: ì˜¤ë¥¸ìª½ğŸ¡º',
          de: 'Umgekehrt (Rechts)',
          fr: 'Ã€ l\'opposÃ©e (Ã€ droite)',
          ja: 'åå¯¾ã¸ (å³)',
          cn: 'å¯¹é¢ (å³)',
          ko: 'ì™¼ìª½ìœ¼ë¡œ',
        },
      },
    },
  ],
  timelineReplace: [
    {
      'locale': 'de',
      'replaceSync': {
        'Level Checker': 'Monitor',
        'Omega': 'Omega',
        'Rocket Punch': 'Raketenschlag',
      },
      'replaceText': {
        'Afterburner': 'Nachbrenner',
        'Atomic Ray': 'Atomstrahlung',
        'Ballistic Impact': 'Ballistischer Einschlag',
        'Ballistic Missile': 'Ballistische Rakete',
        'Blaster': 'Blaster',
        'Charybdis': 'Charybdis',
        'Condensed Wave Cannon Kyrios': 'Hochleistungswellenkanone P',
        'Delta Attack': 'Delta-Attacke',
        'Diffuse Wave Cannon Kyrios': 'Streuende Wellenkanone P',
        'Dual Storage Violation': 'Speicherverletzung P',
        'Electric Slide': 'Elektrosturz',
        'Executable': 'Programmstart',
        'Ferrofluid': 'Ferrofluid',
        'Flamethrower': 'Flammenwerfer',
        'Force Quit': 'Erzwungenes Herunterfahren',
        'Guided Missile Kyrios': 'Lenkrakete P',
        'Long Needle Kyrios': 'GroÃŸes Kaliber P',
        '(?<! )Loop': 'Schleife',
        'Magnetism': 'Magnetismus',
        'Mustard Bomb': 'Senfbombe',
        'Pantokrator': 'Pantokrator',
        'Peripheral Synthesis': 'Ausdrucken',
        'Program Loop': 'Programmschleife',
        'Reformat': 'Optimierung',
        'Repel': 'Repulsion',
        'Reset': 'ZurÃ¼cksetzen',
        'Rush': 'StÃ¼rmen',
        'Starboard/Larboard Cannon': 'Steuerbord/Backbord Kanone',
        'Starboard/Larboard Surge': 'Steuerbord/Backbord Strahl',
        '(?<! )Storage Violation': 'Speicherverletzung S',
        'Unmitigated Explosion': 'Detonation',
        'Update Program': 'Programmschleifen-Update',
        '(?<! )Wave Cannon Kyrios': 'Wellenkanone P',
      },
    },
    {
      'locale': 'fr',
      'replaceSync': {
        'Level Checker': 'vÃ©rifiniveau',
        'Omega': 'OmÃ©ga',
        'Rocket Punch': 'AstÃ©ropoing',
      },
      'replaceText': {
        'Afterburner': 'Postcombustion',
        'Atomic Ray': 'Rayon atomique',
        'Ballistic Impact': 'Impact de missile',
        'Ballistic Missile': 'Tir de missile',
        'Blaster': 'Ã‰lectrochoc',
        'Charybdis': 'Charybde',
        'Condensed Wave Cannon Kyrios': 'Canon plasma surchargÃ© P',
        'Delta Attack': 'Attaque Delta',
        'Diffuse Wave Cannon Kyrios': 'Canon plasma diffuseur P',
        'Dual Storage Violation': 'Corruption de donnÃ©es P',
        'Electric Slide': 'Glissement OmÃ©ga',
        'Executable': 'ExÃ©cution de programme',
        'Ferrofluid': 'Ferrofluide',
        'Flamethrower': 'Lance-flammes',
        'Force Quit': 'Interruption forcÃ©e',
        'Guided Missile Kyrios': 'Missile guidÃ© P',
        'Long Needle Kyrios': 'Gros missile P',
        '(?<! )Loop': 'Boucle',
        'Magnetism': 'MagnÃ©tisme',
        'Mustard Bomb': 'Obus d\'ypÃ©rite',
        'Pantokrator': 'Pantokrator',
        'Peripheral Synthesis': 'Impression',
        'Program Loop': 'Boucle de programme',
        'Reformat': 'Optimisation',
        'Repel': 'RÃ©pulsion',
        'Reset': 'RÃ©initialisation',
        'Rush': 'RuÃ©e',
        'Starboard/Larboard Cannon': 'Canon Ã  tribord/bÃ¢bord',
        'Starboard/Larboard Surge': 'Canon Ã  tribord/bÃ¢bord',
        '(?<! )Storage Violation': 'Corruption de donnÃ©es S',
        'Unmitigated Explosion': 'Grosse explosion',
        'Update Program': 'Boucle de programme : mise Ã  jour',
        '(?<! )Wave Cannon Kyrios': 'Canon plasma P',
      },
    },
    {
      'locale': 'ja',
      'replaceSync': {
        'Level Checker': 'ãƒ¬ãƒ™ãƒ«ãƒã‚§ãƒƒã‚«ãƒ¼',
        'Omega': 'ã‚ªãƒ¡ã‚¬',
        'Rocket Punch': 'ãƒ­ã‚±ãƒƒãƒˆãƒ‘ãƒ³ãƒ',
      },
      'replaceText': {
        'Afterburner': 'ã‚¢ãƒ•ã‚¿ãƒ¼ãƒãƒ¼ãƒŠãƒ¼',
        'Atomic Ray': 'ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒ¬ã‚¤',
        'Ballistic Impact': 'ãƒŸã‚µã‚¤ãƒ«ç€å¼¾',
        'Ballistic Missile': 'ãƒŸã‚µã‚¤ãƒ«ç™ºå°„',
        'Blaster': 'ãƒ–ãƒ©ã‚¹ã‚¿ãƒ¼',
        'Charybdis': 'ãƒŸãƒ¼ãƒ«ã‚¹ãƒˆãƒ¼ãƒ ',
        'Condensed Wave Cannon Kyrios': 'é«˜å‡ºåŠ›æ³¢å‹•ç ²P',
        'Delta Attack': 'ãƒ‡ãƒ«ã‚¿ã‚¢ã‚¿ãƒƒã‚¯',
        'Diffuse Wave Cannon Kyrios': 'æ‹¡æ•£æ³¢å‹•ç ²P',
        'Dual Storage Violation': 'è¨˜æ†¶æ±šæŸ“é™¤å»P',
        'Electric Slide': 'ã‚ªãƒ¡ã‚¬ã‚¹ãƒ©ã‚¤ãƒ‰',
        'Executable': 'ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œ',
        'Ferrofluid': 'ãƒã‚°ãƒãƒƒãƒˆ',
        'Flamethrower': 'ç«ç‚æ”¾å°„',
        'Force Quit': 'å¼·åˆ¶çµ‚äº†',
        'Guided Missile Kyrios': 'èª˜å°ãƒŸã‚µã‚¤ãƒ«P',
        'Long Needle Kyrios': 'å¤§å‹ãƒŸã‚µã‚¤ãƒ«P',
        '(?<! )Loop': 'ã‚µãƒ¼ã‚¯ãƒ«',
        'Magnetism': 'ç£åŠ›',
        'Mustard Bomb': 'ãƒã‚¹ã‚¿ãƒ¼ãƒ‰ãƒœãƒ ',
        'Pantokrator': 'ãƒ‘ãƒ³ãƒˆã‚¯ãƒ©ãƒˆãƒ«',
        'Peripheral Synthesis': 'ãƒ—ãƒªãƒ³ãƒˆã‚¢ã‚¦ãƒˆ',
        'Program Loop': 'ã‚µãƒ¼ã‚¯ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ',
        'Reformat': 'æœ€é©åŒ–',
        'Repel': 'åç™º',
        'Reset': 'åˆæœŸåŒ–',
        'Rush': 'çªé€²',
        'Starboard/Larboard Cannon': 'å³èˆ·/å·¦èˆ·ãƒ»æ³¢å‹•ç ²',
        'Starboard/Larboard Surge': 'å³èˆ·/å·¦èˆ·ãƒ»é›¶å¼æ³¢å‹•ç ²',
        '(?<! )Storage Violation': 'è¨˜æ†¶æ±šæŸ“é™¤å»S',
        'Unmitigated Explosion': 'å¤§çˆ†ç™º',
        'Update Program': 'ã‚µãƒ¼ã‚¯ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ æ›´æ–°',
        '(?<! )Wave Cannon Kyrios': 'æ³¢å‹•ç ²P',
      },
    },
    {
      'locale': 'cn',
      'replaceSync': {
        'Level Checker': 'ç­‰çº§æ£€æµ‹ä»ª',
        'Omega': 'æ¬§ç±³èŒ„',
        'Rocket Punch': 'ç«ç®­é£æ‹³',
      },
      'replaceText': {
        'Afterburner': 'ç‡ƒçƒ§å®¤æ’çƒ­',
        'Atomic Ray': 'åŸå­å°„çº¿',
        'Ballistic Impact': 'å¯¼å¼¹å‘½ä¸­',
        'Ballistic Missile': 'å¯¼å¼¹å‘å°„',
        'Blaster': 'å†²å‡»æ³¢',
        'Charybdis': 'å¤§æ¼©æ¶¡',
        'Condensed Wave Cannon Kyrios': 'å¤§åŠŸç‡æ³¢åŠ¨ç‚®P',
        'Delta Attack': 'ä¸‰è§’æ”»å‡»',
        'Diffuse Wave Cannon Kyrios': 'æ‰©æ•£æ³¢åŠ¨ç‚®P',
        'Dual Storage Violation': 'æ¸…é™¤è®°å¿†æ±¡æŸ“P',
        'Electric Slide': 'æ¬§ç±³èŒ„æ»‘è·ƒ',
        'Executable': 'è¿è¡Œç¨‹åº',
        'Ferrofluid': 'ç£é“',
        'Flamethrower': 'ç«ç‚æ”¾å°„',
        'Force Quit': 'å¼ºåˆ¶ç»“æŸ',
        'Guided Missile Kyrios': 'è·Ÿè¸ªå¯¼å¼¹P',
        'Long Needle Kyrios': 'å¤§å‹å¯¼å¼¹P',
        '(?<! )Loop': 'ç©ºç¿»',
        'Magnetism': 'ç£åŠ›',
        'Mustard Bomb': 'èŠ¥æœ«çˆ†å¼¹',
        'Pantokrator': 'å…¨èƒ½ä¹‹ä¸»',
        'Peripheral Synthesis': 'ç”Ÿæˆå¤–è®¾',
        'Program Loop': 'å¾ªç¯ç¨‹åº',
        'Reformat': 'æœ€ä¼˜åŒ–',
        'Repel': 'ç›¸æ–¥',
        'Reset': 'åˆå§‹åŒ–',
        'Rush': 'çªè¿›',
        'Starboard/Larboard Cannon': 'å³/å·¦èˆ·é½å°„Â·æ³¢åŠ¨ç‚®',
        'Starboard/Larboard Surge': 'å³/å·¦èˆ·é½å°„Â·é›¶å¼æ³¢åŠ¨ç‚®',
        '(?<! )Storage Violation': 'æ¸…é™¤è®°å¿†æ±¡æŸ“S',
        'Unmitigated Explosion': 'å¤§çˆ†ç‚¸',
        'Update Program': 'æ›´æ–°å¾ªç¯ç¨‹åº',
        '(?<! )Wave Cannon Kyrios': 'æ³¢åŠ¨ç‚®P',
      },
    },
    {
      'locale': 'ko',
      'replaceSync': {
        'Level Checker': 'ë ˆë²¨ ì¸¡ì •ê¸°',
        'Omega': 'ì˜¤ë©”ê°€',
        'Rocket Punch': 'ë¡œì¼“ ì£¼ë¨¹',
      },
      'replaceText': {
        'Afterburner': 'ì¬ì—°ì†Œ ì¥ì¹˜',
        'Atomic Ray': 'ì›ì íŒŒë™',
        'Ballistic Impact': 'ë¯¸ì‚¬ì¼ ì°©íƒ„',
        'Ballistic Missile': 'ë¯¸ì‚¬ì¼ ë°œì‚¬',
        'Blaster': 'ë¸”ë˜ìŠ¤í„°',
        'Charybdis': 'ëŒ€ì†Œìš©ëŒì´',
        'Condensed Wave Cannon Kyrios': 'ê³ ì¶œë ¥ íŒŒë™í¬ P',
        'Delta Attack': 'ë¸íƒ€ ê³µê²©',
        'Diffuse Wave Cannon Kyrios': 'í™•ì‚° íŒŒë™í¬ P',
        'Dual Storage Violation': 'ê¸°ì–µ ì˜¤ì—¼ ì œê±° P',
        'Electric Slide': 'ì˜¤ë©”ê°€ ìŠ¬ë¼ì´ë“œ',
        'Executable': 'í”„ë¡œê·¸ë¨ ì‹¤í–‰',
        'Ferrofluid': 'ìì„',
        'Flamethrower': 'í™”ì—¼ë°©ì‚¬',
        'Force Quit': 'ê°•ì œ ì¢…ë£Œ',
        'Guided Missile Kyrios': 'ìœ ë„ ë¯¸ì‚¬ì¼ P',
        'Long Needle Kyrios': 'ëŒ€í˜• ë¯¸ì‚¬ì¼ P',
        '(?<! )Loop': 'ìˆœí™˜',
        'Magnetism': 'ìë ¥',
        'Mustard Bomb': 'ê²¨ì í­íƒ„',
        'Pantokrator': 'ì „ì§€ì „ëŠ¥',
        'Peripheral Synthesis': 'ì¶œë ¥',
        'Program Loop': 'ìˆœí™˜ í”„ë¡œê·¸ë¨',
        'Reformat': 'ìµœì í™”',
        'Repel': 'ë°˜ë°œ',
        'Reset': 'ì´ˆê¸°í™”',
        'Rush': 'ëŒì§„',
        'Starboard/Larboard Cannon': 'ì¢Œ/ìš°í˜„ íŒŒë™í¬',
        'Starboard/Larboard Surge': 'ì¢Œ/ìš°í˜„ 0ì‹ íŒŒë™í¬',
        '(?<! )Storage Violation': 'ê¸°ì–µ ì˜¤ì—¼ ì œê±° S',
        'Unmitigated Explosion': 'ëŒ€í­ë°œ',
        'Update Program': 'í”„ë¡œê·¸ë¨ ì—…ë°ì´íŠ¸',
        '(?<! )Wave Cannon Kyrios': 'íŒŒë™í¬ P',
      },
    },
  ],
};

export default triggerSet;
